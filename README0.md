## T√™n bot: M·ªõi
## T√°c gi·∫£: Valheim Survival
## Phi√™n b·∫£n ph√°t h√†nh: v1.0.0

```[**https://coff.ee/conmuala**](https://coff.ee/conmuala) // ·ª¶ng h·ªô t√°c gi·∫£ m·ªôt ly c√† ph√™ t·∫°i ƒë√¢y```

# Bot n√†y ƒë∆∞·ª£c t·∫°o b·ªüi C∆°n M∆∞a L·∫°
- C·∫ßn b·∫•t k·ª≥ h·ªó tr·ª£ m√£ h√≥a n√†o, h√£y tham gia m√°y ch·ªß m√£ h√≥a c·ªßa t√¥i https://discord.gg/s2ec8Y2uPa

- C√ÄI ƒê·∫∂T N√ÄY (n·∫øu b·∫°n ch∆∞a c√≥)
    + node.js https://nodejs.org/en (ƒë·∫£m b·∫£o c√†i ƒë·∫∑t phi√™n b·∫£n LTS!)
    + M√£ Visual Studio https://code.visualstudio.com/

- C·ªïng th√¥ng tin Discord Dev: https://discord.com/developers/applications

- ƒê·∫£m b·∫£o tham gia m√°y ch·ªß m√£ h√≥a c·ªßa t√¥i n·∫øu b·∫°n c·∫ßn h·ªó tr·ª£ v√† n√≥ s·∫Ω x√¢y d·ª±ng m·ªôt c·ªông ƒë·ªìng m√£ h√≥a t·ªët: M√£ h√≥a Pu1s3: https://discord.gg/s2ec8Y2uPa

- https://cdn.discordapp.com/emojis/1250385786600296459.gif t√¨m emoji gif

# M·ªùi Bot c·ªßa t√¥i:
- https://discord.com/oauth2/authorize?client_id=1268569140466028649&permissions=8&integration_type=0&scope=bot

# ƒê∆∞·ªùng d·∫´n ƒë·ªÉ nh·∫Øn tin v·ªõi ng∆∞·ªùi d√πng
- [li√™n h·ªá Valheim Survival](https://discord.com/users/703098031092006964) thay '703098031092006964' th√†nh id c·ªßa m√¨nh

# T·∫•t c·∫£ m√°y ch·ªß Discord c·ªßa t√¥i:
- Ch√≠nh ‚òÖÂΩ° BÕôRÕôBÕô SÕôTÕôUÕôDÕôIÕôOÕô ÂΩ°‚òÖ: https://discord.gg/s2ec8Y2uPa
- Ph·ª•: hi·ªán t·∫°i ch∆∞a mu·ªën cho v√†o

# Trang web c·ªßa t√¥i:
- https:// hi·ªán t·∫°i ch∆∞a c√≥

- Error: no test specified\" && exit 1

# const response = await axios.get('https://api.github.com/repos/Kkkermit/Testify/releases/latest'); trong version.js ƒë√¢y l√† m·∫´u

# Ki·ªÉm tra xem l·ªánh ƒë∆∞·ª£c g·ª≠i t·ª´ m·ªôt m√°y ch·ªß ho·∫∑c kh√¥ng
    if (!interaction.guild) {
        return interaction.reply("L·ªánh n√†y ch·ªâ c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng trong m·ªôt m√°y ch·ªß.");
        }

# L·∫•y m·∫ßu t·ª´ d·ªØ li·ªáu config.js th√¨ th√™m 2 c√°i b√™n d∆∞·ªõi
- const config = require('../../config');
- config.embedYellow

# Ch√∫ th√≠ch:
- InteractionTypes :
    + N∆°i x·ª≠ l√Ω c√°c l·ªánh

- Interaction trong th∆∞ m·ª•c Events:
    + N∆°i x·ª≠ l√Ω s·ª± ki·ªán khi ng∆∞·ªùi d√πng ch·ªçn m·ªôt t√πy ch·ªçn v√† th·ª±c hi·ªán l·ªánh t∆∞∆°ng ·ª©ng.

- handler: 
    + ƒê·ªçc danh s√°ch file c√≥ trong c√°c th∆∞ m·ª•c
    + T·∫°o danh s√°ch l·ªánh, s·ª≠ d·ª•ng require nh·∫≠p l·ªánh t·ªáp v√† l·∫•y c√°c thu·ªôc t√≠nh namev√† descriptionl·ªánh c·ªßa t·ªáp ƒë√≥.
    + Hi·ªÉn th·ªã l·ªánh th√¥ng tin bao g·ªìm t√™n v√† m√¥ t·∫£ c·ªßa ch√∫ng v√† trong b·∫£ng ƒëi·ªÅu khi·ªÉn

- PrefixCommands:
    + N∆°i vi·∫øt l·ªánh ti·ªÅn t·ªë

- schemas:
    + N∆°i ƒë·ªÉ file l∆∞u tr·ªØ mongoDB

- lib:
    + N∆°i ƒë·ªÉ th√¥ng tin phi√™n b·∫£n bot
    + N∆°i chuy·ªÉn ƒë·ªïi m·∫ßu ( d√πng ƒë∆∞·ªùng d·∫´n const colors = require('../../lib/colorConverter'); )

- ¬π‚Åπ‚Å∏‚Å∏Host Valheim¬π‚Åπ‚Å∏‚Å∏

- EventHandling:
    + N∆°i x·ª≠ l√Ω tin nh·∫Øn

- config.js:
    + N∆°i ƒë·ªÉ th√¥ng tin d·ªØ li·ªáu nh∆∞ m·∫ßu, l·∫•y d·ªØ li·ªáu b·∫±ng c√°ch d√πng const config = require(../../config)
    + D√πng th·ªùi gian h·ªìi chi√™u th√¨ d√πng `const { COOLDOWN } = require('../../config');` v√† `cooldown: COOLDOWN,`
    + C√°ch l·∫•y h√†m DescriptionInviteBot: (clientId)
        *   const clientId = client.user.id; // Thay clientId b·∫±ng ID c·ªßa bot, c√≥ th·ªÉ l·∫•y t·ª´ config ho·∫∑c client
        *   .setDescription(config.DescriptionInviteBot(clientId)) // G·ªçi h√†m v·ªõi clientId
        * ${client.user.username} t√™n bot
        * client.user.displayAvatarURL() avatar bot

- index.js:
    + Th∆∞ m·ª•c ch√≠nh c·ªßa bot

- ButtonPlace.js:
    + T·∫°o c√°c n√∫t n√∫t t·∫°i ƒë√¢y, sau ƒë√≥ khi c·∫ßn c√≥ th·ªÉ l·∫•y th√¥ng tin t·ª´ ƒë√¢y m√† kh√¥ng c·∫ßn ph·∫£i vi·∫øt n√∫t t·∫°i ƒë√≥ n·ªØa
    + C√°ch t·∫°o h√†m v√† l·∫•y h√†m row99 v·ªõi interaction d√πng trong l·ªánh hi
        *   C√°ch l·∫•y h√†m:
                    T·∫°o row v·ªõi interaction
                    const row = row99(interaction);
                    sau ƒë√≥ d√πng nh∆∞ b√¨nh th∆∞·ªùng
        *   C√°ch t·∫°o h√†m:
                    const row99 = (interaction) => new ActionRowBuilder()

rgb(51, 51, 51)
    
- D√πng [Valheim Survival](https://discord.com/users/940104526285910046) ƒë·ªÉ nh·∫Øn tin tr·ª±c ti·∫øp t·ªõi ng∆∞·ªùi d√πng, thay id 940104526285910046 th√†nh id mong mu·ªën

- D√πng await i.deferUpdate(); // X√°c nh·∫≠n s·ª± t∆∞∆°ng t√°c m√† kh√¥ng g·ª≠i tin nh·∫Øn
- D√πng await i.deferReply(); // X√°c nh·∫≠n s·ª± t∆∞∆°ng t√°c v√† g·ª≠i tin nh·∫Øn k·∫øt h·ª£p v·ªõi await i.deleteReply();
- D√πng await i.deleteReply(); // X√≥a ph·∫£n h·ªìi ƒë√£ tr√¨ ho√£n
- D√πng await i.editReply({ content: '...' }); // S·ª≠a tin nh·∫Øn ƒë√£
- D√πng await i.followUp({ content: '...' }); // G·ª≠i tin nh·∫Øn ti·∫øp
- D√πng interaction.reply ({ embeds: [embed], components: [button], ephemeral: true }) // d√πng ƒë·ªÉ ph·∫£n h·ªìi tin nh·∫Øn
- user.displayName d√πng displayName ƒë·ªÉ hi·ªÉn th·ªã t√™n hi·ªÉn th·ªã ng∆∞·ªùi d√πng trong discord (t√¥i th√≠ch d√πng ƒëi·ªÅu n√†y h∆°n)

# C√°c c√†i ƒë·∫∑t li√™n quan:
- npm i colors (ƒë·ªÉ s·ª≠ d·ª•ng m√†u cho terminal)
- npm i ascii-table (ƒë·ªÉ s·ª≠ d·ª•ng m√†u cho terminal)
- npm i dotenv (c√†i ƒë·∫∑t .env)
- npm i figlet (d√πng ƒë·ªÉ l√†m ƒë·∫πp terminal)
- npm i sharp ƒë·ªÉ x·ª≠ l√Ω v√† thao t√°c h√¨nh ·∫£nh trong Node.js
    + Chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng h√¨nh ·∫£nh
    + Thay ƒë·ªïi k√≠ch th∆∞·ªõc h√¨nh ·∫£nh (Resize)
    + C·∫Øt v√† ch·ªânh s·ª≠a h√¨nh ·∫£nh
    + N√©n h√¨nh ·∫£nh
    + Hi·ªáu su·∫•t cao
    + X·ª≠ l√Ω ·∫£nh b·∫•t ƒë·ªìng b·ªô
- npm i canvacord l√† m·ªôt th∆∞ vi·ªán Node.js gi√∫p t·∫°o c√°c ·∫£nh v√† ·∫£nh ƒë·ªông v·ªõi s·ª± h·ªó tr·ª£ c·ªßa Canvacord API ƒë·ªÉ t·∫°o ·∫£nh meme, ·∫£nh ƒë·ªông, v√† nhi·ªÅu lo·∫°i h√¨nh ·∫£nh kh√°c
    + T·∫°o ·∫£nh ƒë·ªông, ·∫£nh c√≥ hi·ªáu ·ª©ng ƒë·ªông, v√† ch·ªânh s·ª≠a ·∫£nh tr·ª±c ti·∫øp th√¥ng qua API
    + T·∫°o ·∫£nh meme, cung c·∫•p nhi·ªÅu m·∫´u ·∫£nh meme ph·ªï bi·∫øn c√≥ th·ªÉ t√πy ch·ªânh v·ªõi vƒÉn b·∫£n v√† h√¨nh ·∫£nh
    + Cho ph√©p g·ª≠i c√°c ·∫£nh ƒë·ªông v√† ·∫£nh thay ƒë·ªïi tr·ª±c ti·∫øp trong c√°c tin nh·∫Øn c·ªßa bot
    + Cung c·∫•p nhi·ªÅu lo·∫°i hi·ªáu ·ª©ng ƒë·∫∑c bi·ªát nh∆∞ ·∫£nh ƒë·ªông GIF, ·∫£nh v·ªõi hi·ªáu ·ª©ng ƒë·∫∑c bi·ªát, v√† nhi·ªÅu t√≠nh nƒÉng kh√°c.
- npm i canvas
    + T·∫°o h√¨nh ·∫£nh ƒë·ªông.
    + V·∫Ω ƒë·ªì h·ªça cho c√°c ·ª©ng d·ª•ng tr√≤ ch∆°i
    + T·∫°o h√¨nh ·∫£nh t√πy ch·ªânh, ch·∫≥ng h·∫°n nh∆∞ bi·ªÉu ƒë·ªì, th·∫ª x·∫øp h·∫°ng (rank cards), ho·∫∑c avatar.
    + K·∫øt xu·∫•t vƒÉn b·∫£n v√† h√¨nh ·∫£nh cho c√°c ·ª©ng d·ª•ng server-side.
- npm i colors
- npm i colors
- npm i colors
- npm uninstall cli-table3 ( x√≥a b·ªè th∆∞ vi·ªán cli-table3 ra kh·ªèi d·ª± √°n)
- npm i pollcord
- npm i canvafy@7.0.4 phi√™n b·∫£n 7.0.4 ƒë·ªÉ d√πng k·∫øt ƒë√¥i m√£ l·ªánh ti·ªÅn t·ªë pairing.js
- npm install yt-search s·ª≠ d·ª•ng trong l·ªánh ?ytb ƒë·ªÉ t√¨m video tr√™n youtube
- npm install googleapis phi√™n b·∫£n 134.0.0 d√πng trong l·ªánh ytb ƒë·ªÉ xem phim ( kh√¥ng d√πng phi√™n b·∫£n "googleapis": "^144.0.0")
- npm list googleapis ƒë·ªÉ ki·ªÉm tra phi√™n b·∫£n ƒë√£ c√†i ƒë·∫∑t


- .setDMPermission(false) kh√¥ng ƒë·ªÉ hi·ªán th·ªã l·ªánh trong tin nh·∫Øn DM

- l·ªánh speak  c·∫ßn c√†i npm i ffmpeg-static v√† npm i libsodium-wrappers

- npm install bottleneck
    + d√πng ƒë·ªÉ gi·ªõi h·∫°n s·ªë l∆∞·ª£ng c·∫≠p nh·∫≠t ƒë·ªìng th·ªùi

- npm install discord.js@14.15.3
- npm install discord.js@14.14.1

- // Hi·ªáu ·ª©ng d·∫•u ch·∫•m `...`, b·ªè tr√¨ ho√£n
        let repeatCount = 1;
        const interval = setInterval(async () => {
            repeatCount = (repeatCount % 3) + 1;
            const repeat = '.'.repeat(repeatCount);
            await interaction.editReply({ content: `T√¥i ƒëang x√≥a, h√£y ch·ªù ch√∫t${repeat}` });
        }, 1000);

- // L·∫•y t√™n ng∆∞·ªùi d√πng t·ª´ ƒë·ªëi t∆∞·ª£ng message
        const name = interaction.author.displayName;

- L·ªñI const sourcebin = require("sourcebin_js");  T·∫†I C√ÅC FILE **ticketTranscript.js** V√Ä **servers.js** ƒê√É ƒê∆Ø·ª¢C S·ª¨A TH√ÄNH D√ôNG TH∆Ø VI·ªÜN **npm install sourcebin**, ƒê·ªÇ KI·ªÇM TRA N·∫æU KH√îNG L·ªñI G√å TH√å S·∫º X√ìA TH∆Ø VI·ªÜN **"sourcebin_js": "^0.0.3-ignore",**

- .addChannelTypes(ChannelType.GuildText, ChannelType.GuildVoice) // Ch·ªâ hi·ªÉn th·ªã c√°c k√™nh vƒÉn b·∫£n, k√™nh tho·∫°i

- if (!interaction.member.permissions.has(PermissionsBitField.Flags.ManageMessages)) {
            return await interaction.reply({ content: '**B·∫°n kh√¥ng c√≥ quy·ªÅn d√πng l·ªánh n√†y!**', ephemeral: true });
        } quy·ªÅn d√πng l·ªánh
        
- const { checkAdministrator } = require(`../../permissionCheck`)
// Ki·ªÉm tra quy·ªÅn qu·∫£n l√Ω tin nh·∫Øn
        const hasPermission = await checkManageMessages(interaction);
        if (!hasPermission) return; // N·∫øu kh√¥ng c√≥ quy·ªÅn, tho√°t kh·ªèi h√†m

- hoist: true, // hi·ªÉn th·ªã vai tr√≤ ri√™ng bi·ªát

- x·ªß l√Ω khi t∆∞∆°ng t√°c l·ªói, khi g·∫∑p l·ªói g·ªßi v·ªÅ webhook
        const interactionError = require('../../Events/WebhookError/interactionError');
        try {
            
        } catch (error) {
                interactionError.execute(interaction, error, client);
            }

- x·ª≠ l√Ω trong events, khi g·∫∑p l·ªói g·ªßi v·ªÅ webhook
try {
    // M√£ x·ª≠ l√Ω s·ª± ki·ªán
} catch (err) {
    console.error('L·ªói k·∫øt n·ªëi MongoDB:', err);
    interactionError.execute(client.user, err, client);
}

- x·ª≠ l√Ω l·ªói trong t∆∞∆°ng t√°c ti·ªÅn t·ªë, khi g·∫∑p l·ªói g·ªßi v·ªÅ webhook
try {
    // M√£ x·ª≠ l√Ω l·ªánh ti·ªÅn t·ªë
} catch (error) {
            // X·ª≠ l√Ω l·ªói v√† g·ª≠i th√¥ng b√°o t·ªõi webhook
            await interactionError.execute(message, error, message.client);
        }

/*=============== ƒê∆∞·ª£c Th·ª±c Hi·ªán B·ªüi Valheim Survival ================
||                                                                  ||
||    ____    ____    ____     ____   _               _ _           ||
||   | __ )  |  _ \  | __ )   / ___| | |_   _   _  __| (_)  ___     ||
||   |  _ \  | |_) | |  _ \   \___ \ | __| | | | |/ _` | | / _ \    ||
||   | |_) | |  _ <  | |_) |   ___) || |_  | |_| | (_| | |( (_) |   ||
||   |____/  |_| \_\ |____/   |____/  \__|  \__,_|\__,_|_| \___/    ||
||                                                                  ||
=====================================================================*/
- ‚Äú ‚Äù
V·∫≠n M·ªánh Kim C∆∞∆°ng

- c√≥ th·ªùi gian s·∫Ω ƒëi·ªÅu ch·ªânh l·∫°i l·ªánh recruitment

- .setFooter({ text: client.user.username }); hi·ªÉn th·ªã t√™n bot

- { name: `\u200b`, value: `\u200b` }, gi√° tr·ªã tr∆∞·ªùng tr·ªëng

- { collection: 't√™n t√πy ch·ªânh' } ƒë·∫∑t t√™n theo √Ω trong d·ªØ li·ªáu mongoDB

- await interaction.reply({ content: `T·∫∑ng qu√† ƒë√£ b·∫Øt ƒë·∫ßu! Ph·∫ßn th∆∞·ªüng: **${reward}**\nTh·ªùi gian k·∫øt th√∫c: <t:${Math.floor(giveawayEndDate / 1000)}:R>`, ephemeral: true });

- ?retryWrites=true&w=majority&appName=botapha // b·ªè botmoi v√† thay th√†nh d√≤ng n√†y trong .env n·∫øu l·ªói

- bit.ly // trang web r√∫t g·ªçn link, ·∫©n th·ªïng tin b·∫£o m·∫≠t

- https://discord.com/oauth2/authorize?client_id=1268569140466028649&permissions=8&integration_type=0&scope=bot // link m·ªùi bot

- .setDisabled(true); t·∫Øt n√∫t

- const button11 = new ButtonBuilder()
            .setCustomId(`button11`)
            .setLabel(`Trang ti·∫øp theo`)
            .setStyle(ButtonStyle.Success)
            .setEmoji(`<a:kqWQGPzIsE:1250109668886315119>`)

- .toLowerCase() ƒë·ªÉ chuy·ªÉn th√†nh ch·ªØ th∆∞·ªùng v√† .toUpperCase() ƒë·ªÉ chuy·ªÉn th√†nh ch·ªØ vi·∫øt hoa

- quy·ªÅn ƒë·∫∑c bi·ªát l·∫•y trong config
 + if (!config.specialUsers.includes(message.author.id)) {
                return message.channel.send({ content: config.Dev1 }); // Th√¥ng b√°o n·∫øu ng∆∞·ªùi d√πng kh√¥ng c√≥ quy·ªÅn
            }

- h√¨nh ·∫£nh qr t√†i kho·∫£n ng√¢n h√†ng c·ªßa t√¥i https://i.imgur.com/oY5IfSY.jpeg

- ‚Äé kho·∫£ng tr·ªëng

- { "Guild": "ID" } (T√¨m ki·∫øm theo Guild (ID m√°y ch·ªß)) ho·∫∑c { guildId: "id", userId: "id" } // T√¨m ki·∫øm theo User v√† Guild (C·∫£ m√°y ch·ªß v√† ng∆∞·ªùi d√πng) trong ·ª©ng d·ª•ng MongoDB Compass


# ###################################################################             THI·∫æT K·∫æ WEB           ######################################################################### #

- node app.js ƒë·ªÉ ch·∫°y web

- M√£ app.js ƒë·ªÉ thi·∫øt l·∫≠p v√† ch·∫°y m√°y ch·ªß

- M√£ index.html ƒë·ªÉ x√¢y d·ª±ng giao di·ªán ng∆∞·ªùi d√πng.

- M√£ styles.css s·∫Ω ƒë·ªãnh d·∫°ng v√† l√†m ƒë·∫πp trang web.

- M√£ script.js s·∫Ω cung c·∫•p ch·ª©c nƒÉng t∆∞∆°ng t√°c cho trang web.

- background-size: 100% 50%; /* ƒê·∫∑t chi·ªÅu r·ªông 100% v√† chi·ªÅu cao 50% c·ªßa viewport */, background-size: 1920px 1080px; /* ƒê·∫∑t k√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh cho h√¨nh n·ªÅn */

- ch·ªâ hi·ªÉn th·ªã ·ªü m·ªôt chi·ªÅu cao ho·∫∑c chi·ªÅu r·ªông nh·∫•t ƒë·ªãnh
    + height: 100vh; /* Chi·ªÅu cao 100% viewport */
    + width: 100vw; /* Chi·ªÅu r·ªông 100% viewport */


- th√™m h∆∞·ªõng d·∫´n ng∆∞·ªùi d√πng n·∫°p ti·ªÅn cho premium v√† m√£ qr ƒë·ªÉ ng∆∞·ªùi d√πng n·∫°p ti·ªÅn cho premium

- m·ªói m√°y ch·ªß hi·ªÉn th·ªã k·∫øt qu·∫£ kh·∫£o s√°t trong m·ªôt kh·ªëi m√£ ri√™ng

-        -------------------------------------------------------------------------------------      --------------------------------------------
- ƒë·ªÉ k√≠ch ho·∫°t b·∫≠t t·∫Øt l·ªánh th√¨ s·ª≠ d·ª•ng:

        // Ki·ªÉm tra tr·∫°ng th√°i c·ªßa l·ªánh
        const commandStatus = await CommandStatus.findOne({ command: '/ping-api' });

        // N·∫øu l·ªánh ƒëang t·∫Øt, g·ª≠i th√¥ng b√°o v√† kh√¥ng th·ª±c hi·ªán l·ªánh
        if (commandStatus && commandStatus.status === 'off') {
            return interaction.reply('L·ªánh n√†y ƒë√£ b·ªã t·∫Øt, vui l√≤ng th·ª≠ l·∫°i sau.');
        }```

- d√πng ?toggle-command <l·ªánh> <on|off> ƒë·ªÉ b·∫≠t t·∫Øt l·ªánh

# ##########################################################                   ƒê·∫®Y TH∆Ø VI·ªÜN L√äN NPM                    ########################################################## #

T·∫°o th∆∞ m·ª•c cho th∆∞ vi·ªán
mkdir welcome-brb
cd welcome-brb

Kh·ªüi t·∫°o d·ª± √°n npm
npm init -y

T·∫°o c·∫•u tr√∫c th∆∞ m·ª•c
mkdir fonts
mkdir src
touch src/index.js

Th√™m file .npmignore
node_modules
example
test


- v√†o package.json thay "main": "index.js", th√†nh file ch·ª©a th∆∞ vi·ªán nh∆∞ unit.js, "name": "moi", th√†nh t√™n c·ªßa th∆∞ vi·ªán, "version": "1.0.0", phi√™n b·∫£n c·ªßa th∆∞ vi·ªán

- npm publish --access public ƒë·∫©y l√™n npm c√¥ng khai

- npm publish ƒë·∫©y d·ª± √°n l√™n npm

- v√†o package.json thay "main": "index.js", th√†nh file ch·ª©a th∆∞ vi·ªán nh∆∞ unit.js, "name": "moi", th√†nh t√™n c·ªßa th∆∞ vi·ªán, "version": "1.0.0", phi√™n b·∫£n c·ªßa th∆∞ vi·ªán

- npm login ƒëƒÉng nh·∫≠p npm

Quy tr√¨nh:

B∆∞·ªõc 1: Chu·∫©n b·ªã th∆∞ m·ª•c d·ª± √°n th∆∞ vi·ªán

- ƒê·∫£m b·∫£o c√≥ c√°c file ch√≠nh:

        + package.json

        + index.js (ho·∫∑c file ch√≠nh th∆∞ vi·ªán)

        + README.md (m√¥ t·∫£ th∆∞ vi·ªán)

        + LICENSE (gi·∫•y ph√©p)

B∆∞·ªõc 2: Kh·ªüi t·∫°o package.json

- N·∫øu ch∆∞a c√≥ file package.json, b·∫°n ch·∫°y l·ªánh: npm init

B∆∞·ªõc 3: ƒêƒÉng nh·∫≠p v√†o npm

- npm login (Nh·∫≠p username, password, email c·ªßa t√†i kho·∫£n npmjs.com, N·∫øu ch∆∞a c√≥ t√†i kho·∫£n, b·∫°n ph·∫£i t·∫°o tr√™n https://www.npmjs.com/signup)

B∆∞·ªõc 4: Ki·ªÉm tra t√™n package ƒë√£ t·ªìn t·∫°i ch∆∞a

Tr∆∞·ªõc khi publish, n√™n ki·ªÉm tra t√™n package c√≥ ai d√πng ch∆∞a tr√™n https://www.npmjs.com/

T√™n package ph·∫£i l√† duy nh·∫•t

B∆∞·ªõc 5: Publish l√™n npm

- ch·∫°y l·ªánh npm publish

B∆∞·ªõc 6: TƒÉng version (n·∫øu publish l·∫°i)

- N·∫øu mu·ªën c·∫≠p nh·∫≠t version m·ªõi:

    + M·ªü file package.json, s·ª≠a "version" th√†nh s·ªë m·ªõi (v√≠ d·ª• "1.0.1")

    + Ho·∫∑c d√πng l·ªánh t·ª± ƒë·ªông tƒÉng version:

- C√°ch xo√° package NPM (n·∫øu m·ªõi publish < 72h)

    + npm unpublish embed-brb --force

- Ki·ªÉm tra package tr∆∞·ªõc khi publish

    + npm pack


- g·ªôp 2 d·ªØ li·ªáu mongoDB
    + // Import mongoose
const mongoose = require("mongoose");

// Schema cho Welcome_Default collection
const welcomedefaultSchema = new mongoose.Schema({
    guildId: String,
    channelId: String,
    defaultWelcomeActive: { type: Boolean, default: false },
    customWelcomeActive: { type: Boolean, default: false }
}, 
    { collection: 'Welcome_Default' }
);

// Schema cho Welcome_Custom collection
const welcomeMessageSchema = new mongoose.Schema({
    guildId: String,
    channelId: String,
    message: String,
    isEmbed: { type: Boolean, default: false },
    imageUrl: { type: String, default: null },
    rulesChannelId: String,
    defaultWelcomeActive: { type: Boolean, default: false },
    customWelcomeActive: { type: Boolean, default: false }
}, 
    { collection: 'Welcome_Custom' }
);

// T·∫°o v√† xu·∫•t c√°c model
const WelcomeDefault = mongoose.model("Welcome-Default", welcomedefaultSchema);
const WelcomeMessage = mongoose.model("WelcomeMessage", welcomeMessageSchema);

module.exports = {
    WelcomeDefault,
    WelcomeMessage
};


- 
// Ki·ªÉm tra n·∫øu th√†nh vi√™n m·ªõi l√† bot
if (user.bot) {
    console.log(`Th√†nh vi√™n m·ªõi l√† bot: ${user.tag}`); // Log n·∫øu l√† bot

    // T√¨m ki·∫øm ng∆∞·ªùi m·ªùi bot trong l·ªãch s·ª≠ s·ª± ki·ªán
    const fetchedLogs = await guild.fetchAuditLogs({
        limit: 1,
        type: 28,
    });
    const inviteLog = fetchedLogs.entries.first();
    let inviter = 'Kh√¥ng x√°c ƒë·ªãnh';

    if (inviteLog) {
        const { executor, createdTimestamp } = inviteLog;
        const inviteTime = Date.now() - createdTimestamp;

        // Ki·ªÉm tra n·∫øu ng∆∞·ªùi m·ªùi bot l√† trong kho·∫£ng th·ªùi gian 5 gi√¢y (ƒë·ªÉ tr√°nh l·ªói)
        if (inviteTime < 5000) {
            // L·∫•y th√¥ng tin ng∆∞·ªùi m·ªùi
            const inviterMember = await guild.members.fetch(executor.id); // L·∫•y ƒë·ªëi t∆∞·ª£ng th√†nh vi√™n t·ª´ ID c·ªßa ng∆∞·ªùi m·ªùi
            inviter = inviterMember.displayName || inviterMember.user.username; // L·∫•y bi·ªát danh ho·∫∑c t√™n ng∆∞·ªùi d√πng
            console.log(`Ng∆∞·ªùi m·ªùi bot: ${inviter}`); // Log ng∆∞·ªùi m·ªùi bot
        }
    }

    // G·ª≠i th√¥ng b√°o ƒë·∫øn k√™nh vƒÉn b·∫£n
    const botInviteEmbed = new EmbedBuilder()
        .setTitle(`M·ªôt bot m·ªõi ƒë√£ ƒë∆∞·ª£c m·ªùi! ü§ñ`)
        .setDescription(`Ng∆∞·ªùi d√πng **${inviter}** ƒë√£ m·ªùi bot **${user.username}** v√†o m√°y ch·ªß **${guild.name}**. Ng∆∞·ªùi m·ªùi: ****`)
        .setColor('Blue')
        .setTimestamp();

    // G·ª≠i th√¥ng b√°o v√†o k√™nh ch√†o m·ª´ng (ho·∫∑c k√™nh b·∫•t k·ª≥ m√† b·∫°n mu·ªën)
    const welcomeChannel = guild.channels.cache.find(channel => channel.name === 'bot-bot');
    console.log("K√™nh ch√†o m·ª´ng t√¨m th·∫•y:", welcomeChannel ? welcomeChannel.name : "Kh√¥ng t√¨m th·∫•y k√™nh"); // Log t√™n k√™nh ch√†o m·ª´ng
    if (welcomeChannel) {
        await welcomeChannel.send({ embeds: [botInviteEmbed] });
        console.log("Th√¥ng b√°o v·ªÅ bot ƒë√£ ƒë∆∞·ª£c g·ª≠i."); // Log khi g·ª≠i th√¥ng b√°o
    }
    return; // K·∫øt th√∫c h√†m n·∫øu ƒë√¢y l√† bot
}

